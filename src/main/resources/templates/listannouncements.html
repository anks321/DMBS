<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" th:replace="/Layout/base::layout(~{::section})">

<head>Register Announcements</head>
<!-- <head th:replace="header :: header"></head> -->

<body text-align="center">

  <!-- div th:replace="navbar :: navbar"></div> -->
  <section>


    <div class="container">
      <div class="row">
        <h1>Announcements </h1>
      </div>

      <div class="row">
        <div class="col-lg-3">
          <th:block th:if="${role=='section admin'}">
            <a th:href="@{/localadmin/announcement/add}" class="btn btn-primary btn-sm mb-3">Add announcement</a>
          </th:block>

          <a th:href="@{/loggedin}" class="btn btn-primary btn-sm mb-3">Back</a>
        </div>
      </div>

      <table class="table table-striped table-bordered">
        <thead class="table-dark">
          <tr>
            <th>Announcement id</th>
            <th>Announcement Text</th>
            <th>Date and Time</th>
            <th>Mess Id</th>
            <th>Section Id</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody>
          <tr th:each="ann: ${announcements}">
            <td th:text="${ann.A_id}"></td>
            <td th:text="${ann.announce_text}"></td>
            <td th:text="${ann.date_and_time}"></td>
            <td th:text="${ann.mess_id}"></td>
            <td th:text="${ann.section_id}"></td>

            <td>
              <th:block th:if="${role=='section admin'}"><a
                  th:href="@{/localadmin/manage/announcement/{id}(id=${ann.A_id})}" class="btn btn-danger">
                  Update
                </a>
              </th:block>
              </th:block>
              <th:block th:if="${role=='section admin'}">
                <a th:href="@{/localadmin/manage/announcement/delete/{id}(id=${ann.A_id})}" class="btn btn-danger">
                  Delete
                </a>
              </th:block>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </section>

</body>

</html>